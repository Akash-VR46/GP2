================================
Author: Chris Bak (November 3 2014)
GP2: Graph Programming
================================

GP2 is a graph programming language. Programs require two text files: one containing a set of graph transformation rules, and the other containing a starting _host graph_ to which these rules are applied. These text files can be prepared in a conventional text editor, or exported from a specialised graphical editor. Rule/host pairs may be executed either by passing them to an interpreter, or by compiling to native code.

Below is a description of the 


Compiler
========

There is currently a lexer, a parser, a semantic analyser and a pretty printer. The first two components are generated by Flex and Bison respectively. The semantic analyser is written in C. The pretty printing module is used for debugging. It outputs abstract syntax trees in the DOT language, to be visualised with graphviz, and prints a textual representation of the symbol table to a \*.tab file.

Build Instructions
---------------------
To build an executable GP2 parser _parseGP_, run:

> make parseGP

To build the executable and run it on extensionless input files, run:

> make parseGP-run path/to/gp_program_file path/to/gp_graph_file

There is also a debugging option which runs the executable with valgrind:

> make parseGP-debug path/to/gp_program_file path/to/gp_graph_file


Haskell
=======

The Haskell subdirectory contains a reference interpreter for GP2 implemented in Haskell, a compiler that generates OILR Machine instructions, and several ancillary tools for viewing and testing GP2 host graphs.

Typing `make` in the Haskell directory produces the following binaries:

`gp2`: The GP2 reference interpreter.

`gp2c`: The OILR machine compiler, which generates a C file that can be compiled and linked against the OILR Machine runtime.

`ViewGraph`: A host graph visualiser (using GraphViz as a back-end).

`IsoChecker`: A standalone isomorphism checker, which checks whether two host graphs are isomorphic.



OilrMachine
===========

Build instructions (basic graph data structure)
-----------------------------------------------

Typing `make` in the OilrMachine directory builds the OILR runtime, `oilrrt.a` using a simplistic graph representation.


Build instructions (full graph data structure)
-----------------------------------------------

To build the OILR runtime using the full graph data structure:

> make -f Makefile.gp2


Compiling GP2 programs
----------------------

Compile a GP2 program to C:

> gp2c prog.gp2 graph.host


To compile a GP2 program generated by `gp2c`, you will need the runtime static library, and the two header files `oilrrt.h` and `oilrinst.h`. 

> gcc -o prog prog.c oilrrt.a

